@Guest 00:00
こんにちは
@Guest 00:01
こんにちは
@Guest 00:02
え、それでは、今日もえー、ユテンサイドやっていきましょうよ。テサイドは、ユザインターフェースと、テクノロジーを愛する開発者めの者のためのポッドキャストです。
@Guest 00:12
最新の指標準は、もちろん開発、フレームワークの変遷や、uiウェックに関する言葉で、様々なフロントエンドの情報をキャッチアップできる、ポットキャストをお送りしております。
@Guest 00:23
twitterでのハッシュタグは、シャープuyt、アンダースコアインサイド、エピソードのご意見やご感想、リクエストなどなど、ぜひぜひ気軽にツイートしてください。
@Guest 00:33
で、えっと、今日はですね。えっと、ラインのフロントデンジニアのゴールデンウィークの第2回目ということで、
@Guest 00:40
え、今回、三好さんをお呼びして、お話を伺いたいと思います。
@Guest 00:45
はい、よろしくお願いしま
@Guest 00:46
すよろしくお願いします。今回はえっと、みよさん
@Guest 00:50
のまあ、作成されたfsvgのえっと、まあ、マップついてのまあ、お話を伺いたいと思います。
@Guest 00:59
えっと、まず、ちょっとよさんあの、所属など自己紹介をいただきたいですが、よろしいでしょうか。
@Guest 01:04
はいえ、えっとですね、えっと、line株式会社のえっと、フロントエンドデブ1の
@Guest 01:11
えっと、uitチームですかね。に所属しています。はい、でと、主にlinenewsの開発を担当しています。
@Guest 01:20
早速ですけれども、えっと、ゴールデンウィーク中に作られた成果物について、ちょっとご紹介いただきたい。
@Guest 01:27
はい、えっと、まあします。正確に言うと、ゴールデンウィークをちょっとまたいでるんですけど、前から作ってたので、
@Guest 01:35
ま、あと、ちょっとあのコビットlintがあって、ゴールデンウィークがいつからかって、なんか割と曖昧な感じで始まってしまったので。
@Guest 01:42
っていうのもあるんですけど、えっと、元々はですね。あの、まあ、linenewsので、今えコロナタというのを出してまして。
@Guest 01:51
はい、えっと、ニュースのトップの1番上に出てるバーナンスと行けるページなんですけれども
@Guest 01:56
ま、今えっと、緊急事態速報とか、えっと、コロナの感染者が増えた、減ったみたいなニュースをlineニュースでも結構して、今出してるので、
@Guest 02:05
えっと、そこに出す。えっと、情報がいくつかありましてま、外部のapiからもらってるんですけれど、えっと、
@Guest 02:13
うん、まあ、リアルリアルタイムの感染者と、えっと、あと、都道府県で、
@Guest 02:19
えっと、今今累計で感染者がこのくらいで治った人がこのくらいです。とかっていう。あと、死傷者といかっていう一覧のマップが、
@Guest 02:29
マップとグラフと一覧表みたいのを出してるんですけれどもあります。えっと、その地図の方を元も内部で作るという予定だったんですね。動的に
@Guest 02:40
うんというので、えっと、それを作って試してたんですが、まあ、結局これは採用はされなかったんですけれども、
@Guest 02:47
あ、そう。
@Guest 02:48
はいはえっと、そうですね。されなかったのですけれども、えっと、一応もうかなり作り込んでしまったので、あの内部的に
@Guest 02:56
んで。あと、えっと、これって、地図を動地図に動的にデータをマッピングして出すっていうものなので、あの割と汎用で使えるんですよね。
@Guest 03:05
はいはいはい、
@Guest 03:06
あのまあ例えば交通事故、車数とか
@Guest 03:09
そういうのも出そうと思えば出せるので、なんでも。日本のデータであれ、あれさせば出せって割と汎用でニュースで使えそうなので、
@Guest 03:17
えっと、完全に汎用化してしまって、これは作り切ってしまおうかなと思ったのが、そもそものきっかけですね。はい、
@Guest 03:24
linenewsもうまさに、こういう各都道府県の情報を出すみたいなの。もうそれそれこそこの
@Guest 03:33
感染者だけでなく、何でも使えるところではあるので、結構あれですよね。どこでも使えそうですね
@Guest 03:41
あと、あると結構すぐ使えるんですけど、用意するのが結構めんどくさいんですよね。な。通常ライブラリを使うと思うんですけど、こういうのって
@Guest 03:49
で、まあ、はい。実際、社外性のライブを最初テストで使ってみたんですけれど、あのはい、結構まあ、結。line社って、デザインのカスタムしいことが多いというのと、
@Guest 04:00
あとの描画が結構どうしても細くなってしまうんですよね。社外だと
@Guest 04:04
思ってたよりも、遥かに時間がかかってしまってですね。使ってみたところ、あの特に地図は重いんですよね。
@Guest 04:12
はいはい、
@Guest 04:13
なので、まあ、そうだったら中で作った方が実際自作した方が10倍近く早いので、地図に関しては
@Guest 04:20
あ、そうなんですねえ、え
@Guest 04:22
まというのもあるので、中で作ってみたという感じですね。
@Guest 04:26
はい、お、そうですか、結構そうです地図今パッと見たとこより重そうだなと思ったのは、あの、あれですね。そのsvg自体の重さみたい
@Guest 04:35
そうですね、それが1番ボトルネックになりますね。うん、あというところか、これ地図と言っても著作権があるので、
@Guest 04:44
あの結構簡単に使えないんですよ。そこら辺にあるやつを
@Guest 04:47
あ、はいはいはい、そうです。え、じゃ、ここの地図はどうやって用意して、
@Guest 04:54
今汎用でとりあえず出すようにしてるのは、あの著作権のフリーなやつなんですけれど、はいはい、えっと、ま、今って割とリアルな地図を出してるんですけれど、
@Guest 05:03
例えば、あの天気予報とかでこうち抽象化された地図というか、四角います。手道府県みたいなのが出てたりするじゃないですか、別にあれでも行けるので、
@Guest 05:12
要はサービスで流して、デザイナーさんが用意してくれれば、そのまま使えるっていう感じですね。
@Guest 05:17
うん、あ、なるほど、じゃああれですね、この今のそのリアルなそのなんていうんですか。えっと、境界線だけじゃなくて、もっとこう抽象化した
@Guest 05:27
日本の都道府県をこう表示させるみたいなのもま、今後はそうで
@Guest 05:33
ですね。物自体はあの、まあデフォルトに入ってるのが地図なだけで、svgにマッピングデータをこうバインドするみたいな仕組みなので、うん、例えばなんだろう関東だけとか、
@Guest 05:44
あ、その関東だけのデータを用意してくれれば、別にそれはそれで出せるっていう感じになるので。
@Guest 05:50
だから、まあ、形としてあると、ベースとしてあると、割と何かに使いそうかなと思ってます。
@Guest 05:58
それは便利ですね。なんなんて言うんですか。あの
@Guest 06:02
ま、そのエンジニアリングっていうところもそうですけど、あれですね。そのデザイナーの側もそういう汎用的に使えるし、
@Guest 06:11
そういう日本地図とか、そういう情報は欲しいのかもしれない。これは結構あり
@Guest 06:18
そうですね、まあ、あれば何かに使うかなといううん感じはしてます。
@Guest 06:22
なんか、ゴールデンウィークのところっていうよりは、普通になんか業務として用意する意義があるところな。
@Guest 06:31
そうですね、まあ、何かで活用できればいいかなと思ってます。
@Guest 06:36
今回、日本地図の梱包、念頭っていうのを作られたと思うんですけれども、あの、
@Guest 06:43
こういう何て言うんすかね。あらかじめ。こういうコンポーネントを汎用化したものをなんか作っておくっていう事例っていうのは、なんか他
@Guest 06:52
ありましたかね。そういう、そのlinenewsに限らなくてもいいですけど、こういうあらかじめあるみたいな。そう
@Guest 06:59
そうですね、えっと、あったらま。今bugsを主に使ってるんですけど、まあ、ちょっと。今コロナで今やってないんですけど、試合があのjリーグのはい、専用のページみたいのがレアインデースにありまして。あ、
@Guest 07:10
はいはい
@Guest 07:11
でそこで、えっと、スタッツって言って、パスがこのくらいの数を通してます。とか、
@Guest 07:16
えっと、アシストがこのくらいあります。とかっていうこう、サッカーでよく出るスタッツっていう6角形のチャートが出るんですけど、あ
@Guest 07:24
はいないので、まあなんだ敵チームとみか敵と味方というか、まあ、ホームとアウェイのチームの
@Guest 07:29
2つが出てこう重なって、うん、うん、こうなこのくらい差があります。みたいなやつが出るんですけれど、えっ、はいと、それは完全に
@Guest 07:37
汎用で使えるチャートを作って用意してあるので、他のチームでも他のチームというか、まあ、スポーツ以外でも使う気になれば使えるってやつは用意してますね。
@Guest 07:46
おお、すごい。なんか、linenewsならではって感じ
@Guest 07:49
そうですね。ま、あと、ビーだから。あと、作っておくと簡単に使い回しができるので、あのちゃんと汎用に作っておけばっていうのは大きいですね。
@Guest 07:59
もうすごいlinenewsには、あんまりかん関わりのない仕事をしてると、結構
@Guest 08:05
な、なんて言うんすかねたためになるっていうか、なるほど、っていう感じはしますね。それは面白そう、面白いっていうか、いや、
@Guest 08:14
多分あの
@Guest 08:16
結構linenews以外で使うことっていうのは、まあ、確かにあのすぐにはないかもしれないですけど、すごい
@Guest 08:24
あれですね、あの、もっと聞きたいです。そういう話が
@Guest 08:29
ま、そのまま使えなくても、なんかあると、ある程度カスタムして使うときに楽なので、やっぱり0からだと結構は難しいですからね。svg0から書くのは、
@Guest 08:38
うんうん、というのは大きいですね。
@Guest 08:42
おお、すごい。じゃあそう。あと、
@Guest 08:46
じゃあ、マップにちょっと戻りまして、結構さっきのそのなんていうんですかね。デフォルメされたマップであったりとか、あと、こうリアルなマップっていうパターンとかもあるあったと思うんですけれども、なんかそれ以外になんかこう
@Guest 09:00
マップこういう機能があった方がいいみたいなのをそう、linenewsの観点から見て、なんかあったりしますか。
@Guest 09:09
ま、そうですね、ま、マップというか、えっと、もうちょっとなんて言うんですか。ビジョライゼーションを
@Guest 09:19
まあ、評価していきたい。こういうライブラなると結構すぐに使えるので、ってのも。はい、今、実はあのグラフとかも作ってるんですけど、実は
@Guest 09:27
はいはい、
@Guest 09:28
そういうキャンバスとか、svgとかを割とそのジェース専門でやってる人って、突然キャンバスかいてくれとか言われると、ハードル高いじゃないですか。
@Guest 09:38
そうですね、それはちょちょっと待ってください。そう
@Guest 09:42
あの、あれ、しかもなんか結構数学がわからないと、あれってすごいやりづらいじゃないですか。図計画の
@Guest 09:46
うんうん、うん、うん、はいはいはい
@Guest 09:48
とかったらsvgってあのまあsv自体ま要はxmlの一種なので、あのはい、例えばbgsとかリアクトみたいに。
@Guest 09:58
えっと、その道具に直接バインドして、動的にコントロールします。みたいなやつとの相性がすごくいいんですよね。普通のタグと一緒に使えるので
@Guest 10:07
は。要は、タグのなんとか属性を変えるのとかと、感覚としては全く同じで使えるので、
@Guest 10:13
うんがあるので、ま、あんまり選択肢に上がらないとは思うんですけど、結構キャンバスとか、そういうsvgとかをできるだけ積極的に使っていきたいな、という感じはあります。うん、
@Guest 10:23
確かに結構あのsvgで
@Guest 10:28
つかあの実装できる局面かと思いきや、あのキャンパスで実装するっていうところもあったりっていうの意外と
@Guest 10:35
あったりして。あの、僕、最近そのpaperdojasっていうライブはいはいはいつ
@Guest 10:42
たりするんですけども、あの、あれはなんなんて言うんですかね。
@Guest 10:47
あの、あの、apiとしてはそのsvgなんですけれども、その
@Guest 10:54
実際に描画するところは、キャンパスっていうところがあったりして、そこは
@Guest 11:00
なんですかね。やっぱり、そのパフォーマンス的なところかなとは思うんですけれども、
@Guest 11:06
そういうsvgかキャンバスかっていうのを、こう選定するところをちょっと。もし
@Guest 11:16
あのあったら聞きたいなっていう。そういうインタラクティブなところ以外で、そういうあのキャンバスを選択したり、gを選択したりっていう決めてみたいなの。
@Guest 11:27
そうですね。svgの方がえっとまsvgのメリ1番のメリットは何かって言うと、まあ、さっきの書きやすいっていうのもあるんですけど、あの、デフォルト描画ができるんですよね。
@Guest 11:39
あの、あの画像みたいに読み込みは必要なんですけど、最初に出てくれるやつがあるんですよ。計算しなくても、svg自体が表示できるので、
@Guest 11:48
1回そう空で表示してから、あのう上乗せでこう動的に変わっていくみたいなことができるので、
@Guest 11:56
割とその初期描画が早くていいっていうメリットがまずsbgはありますよね。
@Guest 12:01
なるほど
@Guest 12:02
で、キャンバスはその初期の描画ができないんですけれど、ま、逆にあのリアルタイムに激しく動くみたいな。
@Guest 12:10
えっと、個人的にはあのえっと、オーディオapi、オーディオコンテキストapiってのがウェブにあるんですけど、まあ、音楽の音を取るapiみたいなあ、はいはいで、あの、
@Guest 12:21
なんていうんですかね。ビジュアライザーつって、あの、なんて言うんですかね。あの、よくあのプレイヤーの横についてるあの動くやつ
@Guest 12:30
ありますねお、あの音程のヘルプで出してくるやつがありますよね。はい、ああいうのって、リアルタイムにあれは実際はすごい
@Guest 12:38
なんて言うんすかね。と取れば、取るだけ細かい時間で取れるみたいなやつなんですけど、あれって、実はそのくらいの激しい描画になると、多分キャンパスの方がやりやすいかなっていう感じですね。
@Guest 12:48
ああ、確かに
@Guest 12:49
まだから、ずっと変化があるようなやつは、キャンパスの方が良くて。っていう。うん、デフォルトロがあって、そっからちょっとずつ変わっていきます。みたいな場合は、svgでいいのかな。
@Guest 12:58
職業がは、確かにちょっとなるほど、っていう感じがしましたね、結構そこのあの、こういう
@Guest 13:06
あれですよ、レスポンス性を高めるっていう上では、大事なと
@Guest 13:10
そうですね、地図の例で言うとで、結構大きいんですよね。領域がだから、あれが最初に何も秒ができないと、画面真っ白なんですよ。ほとんど
@Guest 13:21
はいはいはいそうです。
@Guest 13:22
だから、何がしか出すやつがないと、結構他のライブやれると、そういう感じになってしまったりするので、あと、突然でっかくなったりするじゃないですか。何もなかったところが、
@Guest 13:30
そうそう読み込んだ後に、ジースがはめ込んできて
@Guest 13:34
と、全パコンとの画面分ぐらいの大きさになっちゃうみたいなことがあったりするので、ま、それが防げるっていうのは結構大きい。
@Guest 13:40
なるほど、おお、それは確かにsvgoはい、すごい
@Guest 13:49
ま、今回活用されてるというところだと思うんですけども、あの、意外とそのsvg
@Guest 13:56
のあの使用とか、そのapiに詳しいっていうのを意外と少なかったりするかなと思うんですよね。結構あの、例えば、
@Guest 14:05
あのそのsbgoを組み立てる時とかも。そのなんていうか、ドムを組み立てる時とは、また別の専用のapiとかがあったりして、意外とその
@Guest 14:16
まあのドムとま似てるけれども、ちょっと違うとかがあったりして、そういうところの知識があるっていうのは、意外と
@Guest 14:24
あのない難しいところではあると思うんですけど、お。
@Guest 14:28
ただ、あの割と既存の知識にちょっと上乗せするだけで、できることが一気に増えるイメージがあるんですね。svgだと、あのモーフィングとかもできるので、
@Guest 14:38
例えば、ああ、はいはいで。あと、スタイルもあのcsを直接当てれるんですよね。タグなので、
@Guest 14:44
あ、そうですね、そうですね、
@Guest 14:46
っていうのがあったりして、割と使い勝ってはいいかなとは思ってます。個人的には、あの最初に確かに0から最初書くのは大変なんですけど、
@Guest 14:55
うん、うんうん、結構そうですね、うん、
@Guest 15:01
まあ。でもcssを書いてくださいと頼んだ時はcs書く人がやったことなかったんで、結構困ってますよ。最初はこれどうやって書いて、そっかいう
@Guest 15:11
そうですよね。なんか、gとか普段見ないとか出てくる
@Guest 15:16
単位があのcssと違う単位なので、あのあェクターなので、あの大きさいくらでも変えれるんですよね。
@Guest 15:24
はいはいはい、だから、あいつの中でのサイズになってしまうんだタが
@Guest 15:28
確かになんかちょっとそのびっくりします。そうですね、なんかうん、
@Guest 15:37
じゃあそうですねあとはそのsbgをこう
@Guest 15:42
まあ、
@Guest 15:43
実装していく上で、そのまそのsvg単体っていうのは、実装のあと、その結構理由のコンポレントとして、ま
@Guest 15:52
ばい。えっと、提供するっていうことだったと思うんですけど、もま、そういったところでこう苦労して点とかはあったりし。
@Guest 16:00
えっと、まあ、最初はえっと、ニュース専用のフレームワークみたいのがありまして、社内で独自に作っているまいはい、ただ、各感じは、ネイティブのjsとあんまり変わんないんですよね。それに関して言うと
@Guest 16:11
で作ってたのをま美に持ってきたんですけど、むしろさっきちょっと話したみたいに、バインディングできるライブラリの方が全然相性が良くて、
@Guest 16:22
なので、あの移行は全然苦労しないですね。
@Guest 16:26
そっか、そうなんですね、うん。
@Guest 16:27
あと、この手のやつはsvgが用意できればなんとかなるんですよね。基本的には、
@Guest 16:33
あのちゃんと整理されたsvgを用意するのが1番大変なので、もうそれができてる状態だと、割と
@Guest 16:40
それを移行すること自体はそんなに難易度は高くないって感じですね。
@Guest 16:44
ああ、そっかそうですね、ま、あれですよね。そのビのデータバインディングみたいなところをこううまくそのsbgと繋ぎ込めそうです。そうです
@Guest 16:54
ところぐらいじゃあ、逆にそのsbgをこうなんて言うんすかね。組み立てていく上で、なんかここはまったみたいなと。こ
@Guest 17:03
こう大変なのはに日本全体のなパスと都道府県別のパスが必要なんですよ。
@Guest 17:11
ああ、要は都道府県別で色が変わる、はいででなるその2個が矛盾なく合体できないといけない
@Guest 17:17
回線だけ用意して、それそれは
@Guest 17:19
てるところが違うみたいな。あと、えっと、例えば沖縄とかだと今回クリックできるんですけれど、クリックすると、沖縄の情報が出るとま、感染者が何てます。とかっていうのが出るんですけど、はい、ちっちゃいじゃないですか。沖縄って
@Guest 17:32
なので、実際の表示用のパスタは、別にクリック用のパスをそれは用意したりしてるので、ああ、はい、そのパスタはちょっとずつ必要っていう感じはしますね。
@Guest 17:41
なるほど、そうり領域のあのあれですよね、そのあた当たり判定そうですか、そういう領域を指定するそれはあれですかね、結構
@Guest 17:50
なん
@Guest 17:51
もう手手でやった感じですか。そう、イラストレーターとか、そういうあ
@Guest 17:56
くは直接。あの、まあコ動で書いてるというか、あの直接落ち込んでる感じですね。
@Guest 18:02
逆にそれはそれで大変そう。
@Guest 18:05
あま、ちょっと直すくらいだったらいいですね。あと、あのモーフィングする時に、あのモーフィングって、あの頂点
@Guest 18:11
に対してなんちゅうんすかね。パスの頂点に対して、モーフィングかけてくんですけど、それがつつも合わない時が結構あったりするんですよ。
@Guest 18:19
会わないと、なんか、ぐるんって裏返るみたいなアニメーションになってしまって、
@Guest 18:23
減ったりするので、なんかそれでうまいこと調整する時とかもありますね。カスタムする時は、
@Guest 18:29
手で書くのは。それはすご
@Guest 18:34
うん、あれ、僕だともういや、イラストレーターでsvg出力して読み込ませるぐらいしか。あ、でも
@Guest 18:41
1発目だこちの方が楽じゃないですか。
@Guest 18:46
最初にそれで出した方がっていう気はしますね。うん、結構あと入られてもらうと、ちゃんとパスが繋がってなかったりするんです。
@Guest 18:54
ああ、そうですよね、うん、
@Guest 18:56
というのがあるんですか。このデータの精査が結構1番大変ですね、おそらくやろうとするのであれば、
@Guest 19:01
そうですね。なかなか自動化っていうところは難しいし、イラストレーターから、こう出力されたsvgとかもなんか微妙に。
@Guest 19:10
例えば、えっと、デザイナーの人からこれsvgにして、モーフィングかけてみたいな依頼を受けることもあると思うんですけれど、
@Guest 19:17
あ、はい。それって、あの、もうsvgがちゃんとモーフィングできるようにできてないといけないので、そもそも
@Guest 19:24
作る側からしたら、
@Guest 19:26
それを説明して、それがそれをちゃんとやってもらうっていうのは、多分大変だと思うんですよね。おそらく
@Guest 19:30
うん、うん、
@Guest 19:31
そうですね、そこは割とそのポイントですね。
@Guest 19:35
うん、
@Guest 19:36
いや、ありがとうございます。結構なんか
@Guest 19:40
最後の方、結構svgの辛さみたいな話になってしまったんですけど、ま、それをこうまちゃんとして上げさえすれば、もうそういうエンジニアで、フレンドリーな、そういう地図がもう簡単に作れる、
@Guest 19:54
なんでもちゃんとデータさえ用意してもらえればできるって感じなので、割とうん、やったことがない人が結構多いと思うので、
@Guest 20:01
機会があれば選択肢にあげてもらえるといいかなと思ってます。
@Guest 20:05
うん、そうですね、そうですね、もう是非sbgをつか、
@Guest 20:08
多分パッと思いつかないですからね。普通、
@Guest 20:13
日本地図とかもうまさにsegが生きるところかなと
@Guest 20:19
えというわけで、えっと、今回はえっとみさんに、えっと、日本地図のま、汎用コンポーネントを作った話を伺いました。
@Guest 20:29
え、私たちuitのメンバーが所属するline株式会社では、このようなフロントエンドに関する議論を行っていまして。ま、こういったえっと、ゴールデンウィークのえっと、
@Guest 20:41
テーマであったりっていうのとかをこう話し合ったり、ということをやっています。
@Guest 20:46
え、またえ、ポットキャストをえ通じて、またlineに興味を持っていただいた方は、また、カジュアルメンダーなどをお待ちしておりますので、またぜひぜひご連絡お待ちしております。
@Guest 20:56
えっと、またえっと、フロントインドインジニアのゴールデンウィークはあと3回残されていますので。えっと、まあ、今後ともまぜひ聞いてみてください。
@Guest 21:06
え、それでは、また明日のエピソードでお会いしましょう。えにゃすさんどうもありがとうござい
@Guest 21:11
ありがとうございました。